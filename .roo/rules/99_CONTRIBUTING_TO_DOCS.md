# 99. オンボーディング資料への貢献ガイド

このドキュメントは、`.roo/rules/` 配下にあるオンボーディング資料群を更新・改善するためのガイドラインです。プロジェクトの継続的な進化に合わせて、ドキュメントも常に最新かつ正確な状態に保つことが重要です。

## なぜドキュメント貢献が重要か

* **鮮度の維持:** プロジェクトは常に進化します。新機能追加、仕様変更、構成変更など、コードの変化に合わせてドキュメントも更新する必要があります。
* **新規参加者支援:** 正確で分かりやすいドキュメントは、新しいメンバーが迅速にプロジェクトを理解し、貢献するための鍵です。
* **知識共有と標準化:** ドキュメント作成・更新のプロセスを通じて、チーム全体の知識レベルと標準的な実装方法の理解が向上します。
* **暗黙知の形式化:** 「当たり前」と思われていた知識や改善点を明文化することで、プロジェクト全体の品質が向上します。

## 対象ドキュメント

* このガイドを含む、`.roo/rules/` ディレクトリ配下のすべての Markdown ファイル (`.md`)
* 特に重要なファイル：
  * `00_README.md` - 全体の目次と導入部
  * `04_ARCHITECTURE.md` - アーキテクチャ説明
  * `05_MODULES/` - 各モジュールの詳細説明
  * `06_CODING_STANDARDS.md` - コーディング規約
  * `07_TESTING.md` - テスト戦略と実装方法

## 貢献プロセス

基本的なドキュメント更新のプロセスは以下の通りです：

### コード変更に伴うドキュメント更新 (推奨)

**原則として、機能追加やコード修正を行う際に、関連するドキュメントの更新も同じブランチ・同じPull Request (PR) 内で行ってください。**

1. **機能/修正ブランチでの作業:**
   * 通常通り、`feature/` や `hotfix/` ブランチでコードの変更作業を行います ([08_WORKFLOW.md](./08_WORKFLOW.md) 参照)。

2. **関連ドキュメントの特定と編集:**
   * 行ったコード変更に関連するオンボーディング資料 (`.roo/rules/` 配下のファイル) を特定します。
   * 変更内容に合わせて、ドキュメントを修正・追記します。
   * 後述の「執筆ガイドライン」に従ってください。

3. **コードとドキュメントのコミット:**
   * コードの変更とドキュメントの変更を、同じコミットに含めるか、関連する複数のコミットに分けて含めます。
   * コミットメッセージには、コード変更の内容を示すタイプ (`feat:`, `fix:` など) を使用します。ドキュメント更新が含まれることをメッセージ本文で触れるとより丁寧です。
   * 例:
     ```
     feat(auth): 🎸 パスワードリセット機能を追加
     
     - パスワードリセット用APIエンドポイント実装
     - ユースケースとワークフロー実装
     - 認証モジュールドキュメント(05_MODULES/auth/README.md)と
       API利用ガイド(11_API_USAGE.md)を更新
     
     Refs #456
     ```

4. **Pull Request (PR) の作成:**
   * コード変更とドキュメント更新を含むブランチから `develop` (または `main`) へのPull Requestを作成します。
   * PRのテンプレートに従い、コード変更点と合わせて、**更新したドキュメントについても言及**してください。

5. **レビュー:**
   * レビュワーはコードだけでなく、**ドキュメントの更新内容もレビュー**します。正確性、明瞭性、整合性などを確認します。

6. **マージ:**
   * レビューで承認されたら、PRをマージします。

### ドキュメントのみの変更の場合

誤字脱字の修正、既存内容の明確化、構成変更など、コード変更を伴わないドキュメント改善の場合は、以下のプロセスで行います：

1. **ドキュメント専用ブランチの作成:**
   ```bash
   git checkout -b docs/improve-architecture-explanation
   ```

2. **ドキュメント編集と変更確認:**
   * Markdownエディタでドキュメントを編集します。
   * 変更内容をプレビューして、フォーマットや内容が正しいことを確認します。

3. **コミット:**
   * `docs:` タイプを使用してコミットします。
   * 例: `docs: ✏️ アーキテクチャ説明の明確化と図の追加`
   * 例: `docs: ✏️ 環境構築手順の説明を改善`

4. **PR作成とレビュー:**
   * ドキュメント変更のみのPRを作成し、レビューを依頼します。
   * ドキュメント変更の理由と概要を明確に説明してください。

## 執筆ガイドライン

### 対象読者を意識する

* **主な読者はプロジェクトに新たに参加した開発者** です。
* 専門用語を使いすぎず、前提知識が少ないメンバーでも理解できるように平易な言葉で記述します。
* 自明でない概念や用語は説明を加えるか、[12_GLOSSARY.md](./12_GLOSSARY.md) に追加してリンクします。

### 明確さと構造化

* **明確かつ簡潔に:** 曖昧な表現を避け、具体的かつ簡潔に記述します。
* **構造化:** 見出しレベルを適切に使用し、関連する情報をグループ化します。
* **箇条書きの活用:** 長い文章よりも、箇条書きや表を使用して情報を整理します。
* **適切な段落分け:** 一文は短く、段落も適切に区切ります。

### 最新・正確な情報

* 記述する内容は、現在のプロジェクトの状態やプロセスと一致している必要があります。
* 古い情報は削除または更新します。
* 「〜予定」などの将来的な記述は、実現時期の目安や暫定的な性質を明記します。

### 実践的な例示

* **具体例の提供:** コマンド例、コードスニペット、設定例などを具体的に示します。
* **良い例/悪い例の対比:** 可能であれば、推奨される方法と避けるべき方法の両方を示します。
* **実践的なユースケース:** 典型的な使用シナリオを例示します。

### Markdown記法

標準的なMarkdown記法を使用します：

| 要素 | 記法 |
|------|------|
| 見出し | `# 大見出し`, `## 中見出し`, `### 小見出し` |
| リスト | `* 項目` または `-  項目` または `1. 項目` |
| コードブロック | ` ``` 言語指定 コード ``` ` |
| インラインコード | `` `コード` `` |
| リンク | `[表示テキスト](URL)` |
| 画像 | `![代替テキスト](画像URL)` |
| 太字/斜体 | `**太字**`, `*斜体*` |
| 表 | `\|項目1\|項目2\|` <br> `\|----\|----\|` <br> `\|値1\|値2\|` |
| 引用 | `> 引用文` |
| 水平線 | `---` |

### 図表と視覚的要素

* **Mermaid図:** 複雑な関係を表現するには Mermaid 記法を使用します。
  ```mermaid
  graph TD
      A[サービス層] --> B[リポジトリ層]
      B --> C[データベース]
  ```
* **表の活用:** 比較や一覧表示には表形式を使用します。
* **適切な強調:** 重要なポイントは **太字** や *斜体* で強調します。

### 一貫性のある用語

* 用語や表現スタイルを他のドキュメントと統一します。
* プロジェクト固有の用語を一貫して使用します。
* 新しい専門用語を導入する場合は、必要に応じて [12_GLOSSARY.md](./12_GLOSSARY.md) に追加してください。

## 目次ファイルの更新

新しいドキュメントファイルを追加した場合や、既存のファイルを削除・リネームした場合は、必ず目次ファイル (`.roo/rules/00_README.md`) の「このガイドの歩き方」セクションを更新し、リンク切れや情報の不整合がないようにしてください。

## 執筆の際のチェックリスト

ドキュメント変更をコミットする前に、以下のチェックリストで確認してください：

- [ ] 内容は正確かつ最新か
- [ ] 対象読者に合わせた分かりやすい説明になっているか
- [ ] 適切な構造化（見出し、箇条書き、表など）がされているか
- [ ] スペル、文法、句読点などが正しいか
- [ ] リンクは正しく機能するか
- [ ] コードブロックなどのフォーマットは適切か
- [ ] 他のドキュメントとの用語の一貫性はあるか
- [ ] 必要に応じて目次ファイルが更新されているか

---

オンボーディング資料はチーム全員で育てていくものです。積極的な貢献をお願いします！